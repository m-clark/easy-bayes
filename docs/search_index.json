[
["index.html", "Easy Bayes with rstanarm and brms", " Easy Bayes with rstanarm and brms Michael Clark m-clark.github.io 2018-11-06 "],
["introduction.html", "Introduction ", " Introduction "],
["overview.html", "Overview", " Overview This workshop provides an overview of the rstanarm and brms packages. Basic modeling syntax is provided, as well as diagnostic checking, model comparison, and how to get more from the models. Goals Note that it is not a goal of this workshop to teach Bayesian data analysis. However, by the end of the workshop, you should be well aware of what rstanarm and brms have to offer, and how to use them, as well as what steps you might take to get the most from your models. Prerequisites You should know how to do some standard regression modeling in R. While prior exposure to Bayesian analysis is in some sense a prerequisite, this can also be seen a stepping stone to Bayesian analysis. Once you see how easy it is to get more from standard models, and how easy it is to run more complicated models, you’ll likely want to use these tools even if you haven’t used the Bayesian approach before. Note the following color coding used in this document: emphasis package function object/class link "],
["basic-bayesian-analysis.html", "Basic Bayesian Analysis", " Basic Bayesian Analysis The classic formula: \\[p(\\mathcal{A}|\\mathcal{B}) = \\frac{p(\\mathcal{B}|\\mathcal{A})p(\\mathcal{A})}{p(\\mathcal{B})}\\] Conceptually, we can think about it in different ways. \\[posterior \\propto likelihood * prior\\] Standard methods you are already familiar with begin and end with likelihood. Alternatively, we can think also in terms of the posterior as the combination hypothesis, and evidence, in the form of data. \\[p(hypothesis|data) \\propto p(data|hypothesis)p(hypothesis)\\] \\[\\text{updated belief} = \\text{current evidence} * \\text{prior belief or evidence}\\] Some key distinctions: Distributions and uncertainty estimation instead of point estimates However, given the distribution for a parameter, we still obtain point estimates Easy model criticism http://micl.shinyapps.io/prior2post/ "],
["stan-and-the-stan-ecosystem.html", "Stan and the Stan ecosystem ", " Stan and the Stan ecosystem "],
["stan.html", "Stan", " Stan Probabilistic programming language HMC/NUTS Compared to others: Fast convergence No conjugacy required warmup vs. burnin less autocorrelation faster for more complex models Why use? Fit very complex models Better approaches for model diagnostics Natural interval estimates for any statistic that comes out of a model data { // Data block int&lt;lower=1&gt; N; // Sample size int&lt;lower=1&gt; K; // Dimension of model matrix matrix[N, K] X; // Model Matrix vector[N] y; // Target variable } parameters { // Parameters block vector[K] beta; // Coefficient vector real&lt;lower=0&gt; sigma; // Error scale } model { // Model block vector[N] mu; mu = X * beta; // Creation of linear predictor // priors beta ~ normal(0, 10); sigma ~ cauchy(0, 5); // With sigma bounded at 0, this is half-cauchy // likelihood y ~ normal(mu, sigma); } "],
["rstan.html", "rstan", " rstan Allows one to use Stan within R. Model can be: a character string separate file with model expressed in the Stan language RStudio support for Stan (e.g. syntax highlighting) rstan runs the model, and provides a lot of other tools to assess. results = stan(model_code = my_model, data = my_data_list) We will not cover this package. "],
["rstanarm.html", "rstanarm", " rstanarm Developed by Stan team. Good for basic to intermediate, and even somewhat complex models. Precompiled stan code. Standard models run very quickly Without compilation will always be faster than brms for identical models "],
["brms.html", "brms", " brms Developed along with Stan team (though by one person) Good for basic to complex models. Not pre-compiled Some simpler models with less data would take longer for compilation than to actually run. Extremely rapid feature integration. "],
["more-stan.html", "More Stan", " More Stan Many package to explore the results of a Stan model from any of these packages. shinystan tidybayes etc. "],
["getting-started.html", "Getting started", " Getting started rstan installation required. Installed as any other R package "],
["basic-glm.html", "Basic GLM", " Basic GLM Whether a survey respondent agrees or disagrees with a conservative statement about the role of women in society 1974/1975 Survey Women should take care of running their homes and leave running the country up to men Modeled as a function of the gender and education of the respondents "],
["traditional-glm.html", "Traditional GLM", " Traditional GLM data(&quot;womensrole&quot;, package = &quot;HSAUR3&quot;) womensrole_glm &lt;- glm(cbind(agree, disagree) ~ education + gender, data = womensrole, family = binomial) ## summary(womensrole_glm) term estimate std.error statistic p.value (Intercept) 2.509 0.184 13.646 0.000 education -0.271 0.015 -17.560 0.000 genderFemale -0.011 0.084 -0.136 0.892 "],
["rstanarm-glm.html", "rstanarm: GLM", " rstanarm: GLM library(rstanarm) womensrole_bglm &lt;- stan_glm(cbind(agree, disagree) ~ education + gender, data = womensrole, family = binomial) summary(womensrole_bglm, digits = 3) stan_glm family: binomial [logit] formula: cbind(agree, disagree) ~ education + gender observations: 42 predictors: 3 ------ Median MAD_SD (Intercept) 2.513 0.175 education -0.271 0.015 genderFemale -0.011 0.082 Sample avg. posterior predictive distribution of y: Median MAD_SD mean_PPD 24.310 0.812 ------ For info on the priors used see help(&#39;prior_summary.stanreg&#39;). Adding more options womensrole_bglm &lt;- stan_glm(cbind(agree, disagree) ~ education + gender, data = womensrole, family = binomial, prior = student_t(df = 7), prior_intercept = student_t(df = 7), iter = 5000, warmup = 2000, thin = 10, cores = 4, seed = 1234) "],
["rstanarm-mixed-model.html", "rstanarm: Mixed Model", " rstanarm: Mixed Model library(lme4) sleepstudy_lmer &lt;- lmer(Reaction ~ Days + (1 + Days|Subject), data = sleepstudy) summary(sleepstudy_lmer) sleepstudy_blmer &lt;- stan_lmer(Reaction ~ Days + (1 + Days|Subject), data = sleepstudy) summary(sleepstudy_blmer) "],
["rstanarm-other-models.html", "rstanarm: Other Models", " rstanarm: Other Models "],
["priors.html", "Priors ", " Priors "],
["getting-priors.html", "Getting priors", " Getting priors prior_summary(womensrole_bglm) "],
["setting-priors.html", "Setting priors", " Setting priors womensrole_bglm &lt;- stan_glm(cbind(agree, disagree) ~ education + gender, data = womensrole, family = binomial, prior = student_t(df = 7)) "],
["installation.html", "Installation", " Installation rstan installation required. Installed as any other R package "],
["comparison-to-rstanarm.html", "Comparison to rstanarm", " Comparison to rstanarm "],
["models.html", "Models", " Models "],
["models-in-brms.html", "Models in brms", " Models in brms The modeling syntax with brms mimics base R and some of the more popular packages: base R lme4 mgcv survival "],
["brms-mixed-model.html", "brms: Mixed Model", " brms: Mixed Model sleepstudy_brms &lt;- brm(Reaction ~ Days + (1 + Days|Subject), data = sleepstudy) summary(sleepstudy_brms) Family: gaussian Links: mu = identity; sigma = identity Formula: Reaction ~ Days + (1 + Days | Subject) Data: sleepstudy (Number of observations: 180) Samples: 4 chains, each with iter = 2000; warmup = 1000; thin = 1; total post-warmup samples = 4000 Group-Level Effects: ~Subject (Number of levels: 18) Estimate Est.Error l-95% CI u-95% CI Eff.Sample Rhat sd(Intercept) 26.74 7.04 15.36 43.05 1635 1.00 sd(Days) 6.52 1.50 4.20 9.95 1290 1.01 cor(Intercept,Days) 0.10 0.29 -0.46 0.67 877 1.01 Population-Level Effects: Estimate Est.Error l-95% CI u-95% CI Eff.Sample Rhat Intercept 251.42 7.39 236.86 266.19 1650 1.00 Days 10.41 1.67 7.24 13.82 1233 1.00 Family Specific Parameters: Estimate Est.Error l-95% CI u-95% CI Eff.Sample Rhat sigma 25.89 1.55 23.10 29.06 3200 1.00 Samples were drawn using sampling(NUTS). For each parameter, Eff.Sample is a crude measure of effective sample size, and Rhat is the potential scale reduction factor on split chains (at convergence, Rhat = 1). "],
["brms-mixed-model-extensions.html", "brms: Mixed Model Extensions", " brms: Mixed Model Extensions additional distributions: ordinal, zero-inflated, beta and many more Correlated residuals, Additive mixed models, non-linear with known form, heterogenous variance components, correlated random effects across multivariate outcomes, and more # auto regressive residual structure model &lt;- brm(Reaction ~ Days + (1 + Days|Subject), data = sleepstudy, correlation = cor_ar(~Days)) # smooth term for Days model &lt;- brm(Reaction ~ s(Days) + (1 + Days|Subject), data = sleepstudy) # multivarate outcome q is an arbitrarily named identifier connecting random effects. f1 = bf(DV_1 ~ x + 1|q|group) f2 = bf(DV_2 ~ x + 1|q|group) f = f1 + f2 model &lt;- brm(f, data = mydata) # non-linear model with known form nlform &lt;- bf(cum ~ ult * (1 - exp(-(dev / theta)^omega)), ult ~ 1 + (1 | AY), omega ~ 1, theta ~ 1, nl = TRUE) "],
["brms-mo-models-mo-models-mo-models.html", "brms: Mo’ models, mo’ models, mo’ models!", " brms: Mo’ models, mo’ models, mo’ models! GAM (gp) Distributional response (e.g. model the variance as well as the mean) Gaussian Processes ZIP Multivariate Missing data Measurement error "],
["model-criticism-in-rstanarm-and-brms.html", "Model Criticism in rstanarm and brms", " Model Criticism in rstanarm and brms Much of the core functionality is the same across both packages Functions that exist in both are identical We will focus on brms "],
["model-exploration.html", "Model Exploration ", " Model Exploration "],
["marginal-effects.html", "marginal effects", " marginal effects "],
["hypothesis-tests.html", "hypothesis tests", " hypothesis tests "],
["model-diagnostics.html", "Model Diagnostics ", " Model Diagnostics "],
["launch-shinystan.html", "launch_shinystan", " launch_shinystan "],
["pp-check.html", "pp check", " pp check "],
["loo-plot.html", "loo plot", " loo plot "],
["model-performance.html", "Model Performance ", " Model Performance "],
["model-comparison.html", "model comparison", " model comparison "],
["model-average.html", "model average", " model average "],
["prediction.html", "prediction", " prediction "],
["references.html", "References", " References "]
]
